<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Login â€¢ IT Inventory</title>
<style>
  body{margin:0;font-family:system-ui;background:#0f172a;color:white;display:grid;place-items:center;height:100vh;}
  .card{background:white;color:#0f172a;border-radius:14px;padding:22px;width:min(420px,92vw);box-shadow:0 12px 30px rgba(0,0,0,.25);}
  input{width:100%;padding:10px;border:1px solid #cbd5e1;border-radius:9px;margin-top:8px;}
  button{width:100%;background:#1a73e8;color:white;border:none;padding:10px;border-radius:9px;margin-top:12px;font-weight:700;cursor:pointer;}
  .muted{color:#64748b;font-size:.9rem;margin-top:8px;}
</style>
</head>
<body>
<div class="card">
  <h2>OCSI IT Inventory</h2>
  <p class="muted">Sign in to continue.</p>

  <input id="email" type="email" placeholder="Email"/>
  <input id="pass" type="password" placeholder="Password"/>

  <button id="loginBtn">Login</button>
  <div id="msg" class="muted"></div>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-analytics.js";
  import { getAuth, signInWithEmailAndPassword, onAuthStateChanged }
    from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCnf-hKBJXqEkmwwdM29RWwvZjSAmTMGSE",
    authDomain: "ocsi-it-iventory-system.firebaseapp.com",
    projectId: "ocsi-it-iventory-system",
    storageBucket: "ocsi-it-iventory-system.firebasestorage.app",
    messagingSenderId: "941219752022",
    appId: "1:941219752022:web:f3214e808d36a4a53833f7",
    measurementId: "G-CM3P9CRX1K"
  };

  const app=initializeApp(firebaseConfig);
  try{getAnalytics(app);}catch(e){}
  const auth=getAuth(app);

  const msg=document.getElementById("msg");

  onAuthStateChanged(auth,u=>{
    if(u) location.href="index.html";
  });

  document.getElementById("loginBtn").addEventListener("click", async ()=>{
    msg.textContent="";
    const email=document.getElementById("email").value.trim();
    const pass=document.getElementById("pass").value.trim();
    try{
      await signInWithEmailAndPassword(auth,email,pass);
      location.href="index.html";
    }catch(e){
      msg.textContent="Login failed: "+e.message;
    }
  });
</script>
</body>
</html>
