<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>OCSI IT Inventory ‚Äì Login</title>
<style>
  body{margin:0;font-family:system-ui;background:#0f172a;color:#e5e7eb;
       display:flex;justify-content:center;align-items:center;min-height:100vh;}
  .card{background:#020617;border-radius:16px;padding:26px 28px;
        width:320px;box-shadow:0 18px 40px rgba(0,0,0,.55);}
  h1{margin:0 0 6px;font-size:1.4rem;}
  p{margin:0 0 12px;font-size:.9rem;color:#9ca3af;}
  .btn{width:100%;border:none;border-radius:999px;padding:9px 12px;
       font-size:.9rem;font-weight:600;cursor:pointer;
       display:flex;align-items:center;justify-content:center;gap:8px;}
  .btn-google{background:white;color:#111827;}
  .hint{margin-top:10px;font-size:.78rem;color:#9ca3af;}
</style>
</head>
<body>

<div class="card">
  <h1>OCSI IT Inventory</h1>
  <p>Sign in with your Google Workspace account.</p>
  <button id="googleBtn" class="btn btn-google" type="button">
    <span>üîê</span><span>Sign in with Google</span>
  </button>
  <div class="hint">
    Admin / IT roles are auto-assigned for:
    <br/>micaelngoma@ocsi.org, micael@ocsi.school, support@ocsi.school
  </div>
</div>

<script type="module">
  import {
    auth, GoogleAuthProvider, signInWithPopup
  } from "./firebase.js";

  const provider = new GoogleAuthProvider();
  provider.setCustomParameters({ prompt:"select_account" });

  document.getElementById("googleBtn").onclick = async () => {
    try{
      await signInWithPopup(auth, provider);
      // after login, go to main dashboard
      location.href = "index.html";
    }catch(err){
      console.error(err);
      alert("Login failed: " + err.message);
    }
  };
</script>

</body>
</html>
